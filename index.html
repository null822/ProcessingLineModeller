<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Processing Line Modeller</title>
  <link rel="stylesheet" href="css/style.css">

  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="icon.png">

  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#fafafa">
</head>

<body>
  <div class="topbar">
    <input type="button" class="topbar-button" value="+" onclick="addRecipe()">
  </div>

  <div id="recipes"></div>
  <svg id="connections"
       style="pointer-events: none; position: absolute; top: 0; left: 0"
       width="100" height="100" viewBox="0 0 100 100">
  </svg>

  <div>
    <template id="recipe-template">
      <div class="recipe">
        <div id="recipe-header" class="recipe-header">
          <div>Recipe</div>
          <input type="button" class="recipe-delete-button" value="-" onclick="deleteRecipe(this.parentNode.parentNode)">
        </div>
        <table class="recipe-data" id="recipe-data">
          <tbody></tbody>
        </table>
      </div>
    </template>

    <template id="recipe-row-connector-template">
      <td class="recipe-row-connector" ondragover="recipeConnectionDragover(event)" ondrop="recipeConnectionDrop(event)">
        <div draggable="true" ondragstart="recipeConnectionDragStart(event)">
          <svg width="12" height="12"><circle r="5" cx="6" cy="6" fill="var(--item-color)" stroke="black" stroke-width="1px"/></svg>
        </div>
      </td>
    </template>
    <template id="recipe-row-connector-disabled-template">
      <td class="recipe-row-connector-disabled ">
        <div><svg width="12" height="12"></svg></div>
      </td>
    </template>
    <template id="recipe-row-label-template">
      <td class="recipe-row-label">a</td>
    </template>
    <template id="recipe-row-value-template">
      <td class="recipe-row-value">a</td>
    </template>

    <template id="recipe-connection-template">
      <svg>
        <path d="M 0 0 c 100 100, 200 0, 300, 100" stroke="var(--item-color)" stroke-width="4" fill="none"/>
      </svg>
    </template>
  </div>

  <script src="js/util.js"></script>
  <script src="js/recipes.js"></script>
  <script src="js/recipe-connections.js"></script>
  <script src="js/dragging.js"></script>
  <script src="js/setup-util.js"></script>

  <script>
    setupConnectionsSvg()
    window.onresize = setupConnectionsSvg;
  </script>
</body>

</html>
